# Fourier Oracle: 2D vs 3D 컴포넌트 비교 분석

이 문서는 `FourierCanvas2D.jsx`와 `FourierCanvas3D.jsx`의 구현 차이점을 분석하여 프로젝트의 일관성을 유지하고 기술적 사양을 명확히 합니다.

## 1. 개요 및 렌더링 엔진

| 항목            | 2D 컴포넌트                         | 3D 컴포넌트                        |
| :-------------- | :---------------------------------- | :--------------------------------- |
| **파일명**      | `FourierCanvas2D.jsx`               | `FourierCanvas3D.jsx`              |
| **렌더링 기술** | HTML5 Canvas 2D API                 | Three.js (WebGL)                   |
| **핵심 철학**   | 직접적인 참여(드로잉)와 오디오 체감 | 입체적 공간 탐험과 시각적 경이로움 |

## 2. 구조적 정합성 (Structural Consistency)

최근 개편을 통해 2D와 3D는 거의 완벽한 구조적 통일성을 갖추게 되었습니다.

| 특징              | FourierCanvas2D (2D)              | FourierCanvas3D (3D)                                          |
| :---------------- | :-------------------------------- | :------------------------------------------------------------ |
| **인스턴스 관리** | **멀티 인스턴스**: 최대 6개 제한. | **멀티 인스턴스**: 상향된 성능을 바탕으로 **최대 20개** 지원. |
| **시작 위치**     | `Spatial Spread` 기반 랜덤 배치.  | `Spatial Spread` 기반 **3D 공간(X,Y,Z)** 랜덤 배치.           |
| **궤적 제거**     | 첫 번째 인스턴스부터 순차적 제거. | 동일하게 첫 번째 인스턴스부터 순차적 제거.                    |
| **회전 방향**     | 50% 확률로 정방향/역방향 결정.    | 50% 확률로 정방향/역방향 결정 (일치).                         |

## 3. 설정값(Settings) 및 시각적 표현

### [x] 3D 몰입형 시점 및 카메라 거리 조정 (완료)

- [x] 카메라 기본 거리 조정 (600px -> 100px)
- [x] 줌 로직 개편: % 방식에서 **원점 거리(Distance)** 기반으로 전환 (-500 ~ +500)
- [x] 카메라 고도(Y) 및 애니메이션 로직 최신화 (절대값 거리 기반)
- [x] 3D 구현 가이드 및 비교 분석 문서 수치 업데이트
- [x] 몰입형 시점 시각적 안정성 검증 완료
      | 설정 항목 | 2D 표현 방식 | 3D 표현 방식 | 비고 |
      | :----------------- | :--------------------------------- | :---------------------------------------------- | :----------------------- |
      | **Flow Speed** | 선이 그려지는 속도 | 선이 그려지는 속도 | **완벽 일치 (0.08)** |
      | **Path Weight** | **선 두께 (1~5px)** 실제 굵기 조절 | **Path Intensity (투명도)** 굵기 대신 강도 조절 | WebGL 하드웨어 제약 반영 |
      | **Spatial Spread** | 2D 평면상 확산 (600px) | 3D 공간상 확산 (X,Y $\pm 300, Z \pm 150$) | 입체적 상자 내 배치 |
      | **Sequence Delay** | 0.5s ~ 1.2s (최적화 완료) | 0.5s (최적화 완료) | 빠른 시작을 위한 동기화 |
      | **Zoom (Camera)** | 고정된 시점 (N/A) | **-500 ~ +500 (Distance)** | 3D 공간 거리 기반 제어 |
      | **Persistence** | 포인트 개수 비례 잔상 | 인스턴스 포인트 길이 비례 잔상 | 시각적 길이감 통일 |

## 4. 카메라 및 시점 제어 (3D 특화)

3D 모드만의 고유한 시점 제어 기능이 고도화되었습니다.

- **Orbit Speed (공전)**: 카메라가 원점을 중심으로 궤도를 따라 도는 속도.
- **Camera Rotation Speed (자전)**: 카메라 자체가 자신의 축을 기준으로 회전(Roll)하여 역동성을 부여.
- **Dolly Zoom**: FOV 조절이 아닌, 카메라가 실제로 거리(Radius)를 좁히거나 넓히며 입체감 변화 유도.

## 5. 구현 가이드 (Layout Specifications)

### 3D 오브젝트 배치 규격

- **Seed Box**: $X \in [-300, 300], Y \in [-300, 300], Z \in [-150, 150]$
- **Camera Zoom**: 원점 거리 기반 (-500 ~ +500), 기본값 100 (Inside View 최적화).

---

> [!TIP] > **Path Intensity**는 WebGL 환경에서 선 두께 조절이 불가능한 한계를 역이용하여, 투명도와 밝기로 무게감을 표현하는 3D 특화 대안입니다.

> [!NOTE]
> 이 문서는 2026년 1월 11일, 3D 멀티 인스턴스 및 카메라 로직 개편 이후 최종 업데이트되었습니다.
