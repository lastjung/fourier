# Fourier Series Visualizer - 워크쓰루 (Walkthrough)

이 문서는 **시드 그래프(Seed Graphs)** 구현 및 시각적/성능 최적화 과정을 기록합니다.

## 🚀 주요 구현 사항

### 1. 시드 그래프 갤러리 (Seed Gallery)

- **수학적 시드 생성**: 리사주(Lissajous), 하이포트로코이드(Hypotrochoid/Spirograph), 무한대(Infinity) 형태를 수학적 공식으로 생성하는 엔진을 구현했습니다.
- **갤러리 UI**: 화면 중앙 상단에 세련된 글래스모피즘(Glassmorphism) 스타일의 버튼 갤러리를 추가하여, 사용자가 즉시 예술적인 도형을 선택할 수 있게 했습니다.

### 2. 정교한 애니메이션 시퀀스 (Timing Sequence)

사용자의 감상을 돕기 위해 단계별 노출 시퀀스를 적용했습니다:

- **0초 (즉시)**: 선택한 시드 그래프의 정적 가이드라인이 무지개빛으로 즉시 나타납니다.
- **1초 후**: 푸리에 분석 엔진이 가동되며 에피사이클(원)들이 소환되어 궤적을 그리기 시작합니다.
- **2초 후**: 초기 가이드라인이 우아하게 사라지며 푸리에 엔진의 순수 궤적만 남게 됩니다.

### 3. 멀티 컬러 시각화 시스템 (Multi-color System)

- **세그먼트 렌더링**: 전체 경로를 하나의 색으로 그리는 대신, 각 선분(Segment)마다 개별 색상을 부여하여 진정한 무지개 효과를 구현했습니다.
- **랜덤 테마 컬러**: 실행할 때마다 고유의 테마 색상(그린, 오렌지, 블루 등)이 무작위로 선정되어 매번 새로운 시각적 경험을 제공합니다.
- **하모닉 스펙트럼**: 주파수와 주기에 따라 색상이 동적으로 변하며 흐르는 궤적 효과를 적용했습니다.

### 4. 성능 최적화 및 비주얼 안정화

- **Glow Trick**: CPU 부하가 큰 `shadowBlur` 대신, 투명도가 다른 선을 겹쳐 그리는 기법을 사용하여 60FPS의 부드러움을 유지하며 네온 효과를 냈습니다.
- **배치 렌더링**: 수천 개의 선분을 그룹화하여 일괄 처리함으로써 렌더링 렉을 완벽히 제거했습니다.
- **계단 현상(Aliasing) 수정**: 얇고 날카로운(1.8px) 단일 패스 렌더링으로 복구하여 투박한 리본 현상을 해결했습니다.

### 5. 하모닉 사운드 시스템 (Sonification)

- **주파수 매핑**: 각 푸리에 인스턴스의 하모닉스(배음) 비율을 실제 오디오 주파수로 변환하여 소리로 들려주는 엔진을 구축했습니다.
- **입체 음향(Panning)**: 시각적 중심점에 따라 소리의 좌우 위치가 실시간으로 변하는 공간 음향(Stereo Panning)을 적용하여 몰입감을 높였습니다.
- **Sound Moods**: Sine, Triangle, Square, Sawtooth 등 4가지 기본 파형을 지원하여 시각적 질감에 맞는 청각적 경험을 선택할 수 있습니다.

### 6. 다중 인스턴스 및 고성능 렌더 아키텍처 (v2.2)

- **멀티-시드 하이브리드**: 여러 개의 시드(Lissajous, Custom 등)를 동시에 가동할 수 있는 병렬 아키텍처로 개편했습니다.
- **Ref 기반 원본 관리**: 데이터 경쟁 및 화면 끊김 방지를 위해 애니메이션 상태를 `useRef`로 직접 관리하는 고성능 엔진을 도입했습니다.
- **Pointer Events 통합**: 마우스, 터치, 펜 등 모든 입력 도구에서 완벽하고 부드러운 드로잉 추적이 가능하도록 입력 시스템을 현대화했습니다.
- **UI 격리 및 캡처**: 대규모 인스턴스 운용 시에도 컨트롤 패널 조작이 캔버스 드로잉에 간섭하지 않도록 이벤트 전파를 정밀하게 제어했습니다.

## 🖼️ 시각적 결과물

```carousel
![시드 그래프 초기 노출](/Users/eric/.gemini/antigravity/brain/414be72d-a9ce-4aeb-9b4e-aa1e8f467c5b/seed_graph_test_1768009415454.webp)
<!-- slide -->
![푸리에 분석 가동](/Users/eric/.gemini/antigravity/brain/414be72d-a9ce-4aeb-9b4e-aa1e8f467c5b/fourier_oracle_animated_1768009066763.png)
<!-- slide -->
![최종 멀티 컬러 비주얼](/Users/eric/.gemini/antigravity/brain/414be72d-a9ce-4aeb-9b4e-aa1e8f467c5b/uploaded_image_1768010287844.png)
<!-- slide -->
![시스템 최종 안정성 검증](/Users/eric/.gemini/antigravity/brain/414be72d-a9ce-4aeb-9b4e-aa1e8f467c5b/fourier_oracle_verification_1768040275451.png)
```

## 🛠️ 검증 완료 (Verification)

- [x] 시드 버튼 클릭 시 즉시 렌더링 확인
- [x] 1초/2초 지연 시퀀스 정상 작동 확인
- [x] 매 실행 시 랜덤 테마 컬러 적용 확인
- [x] 60FPS 급 성능 최적화 및 선 두께 디테일 수정 완료
- [x] 한 바퀴 주행 후 궤적 끊김 현상 해결 완료
- [x] Pointer Events 통합으로 터치/마우스 혼용 환경 완벽 대응
- [x] Ref 기반 아키텍처로 화면 소실 및 시드 증발 버그 근본적 해결 완료
- [x] 하모닉 사운드 시스템 및 입체 음향 엔진 통합 완료
